
<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="alternate" href="https://scalatra.github.io/scalatra-docbuild/index.xml" type="application/rss+xml" title="Scalatra">
		<link rel="icon" href="https://scalatra.github.io/scalatra-docbuild//favicon.ico">
		<title>Scalatra 2.2.0-RC2 Released - Scalatra</title>
		
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/highlight/github.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootstrap.min.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/theme.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootie-docs.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/site.css">
	</head>

<body role="document">

	
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://scalatra.github.io/scalatra-docbuild//"><img src="https://scalatra.github.io/scalatra-docbuild//images/logo-s.png" alt="logo"></a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
                    
			
			
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/getting-started/">Getting started</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/news.html">News</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/guides/">Documentation</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/community/">Community</a></li>
				
			
                
				</ul>
				
			</div>
		</div>
	</nav>

<div class="container">


<div class="row">
  <div class="col-sm-9 doc-main">
	<main role="main">
	  <article>
		<a id="title"></a>
    <span class="doc-entry-meta in-list"><time datetime="2012-12-19">December 19, 2012</time></span>
		<h1 class="doc-entry-title">Scalatra 2.2.0-RC2 Released</h1>
		<section>
		  <p>Scalatra 2.2 has been in development since September. There were a few blocking bugs along the way, but the development team has now cut a second release candidate, Scalatra 2.2.0-RC2. If all goes well, Scalatra users will all get a Christmas present. See the full list of changes (below) if you want a sneek peak.</p>

<p></p>

<p>The full list of changes for the 2.2.0 release is now as follows:</p>

<h3 id="global">Global</h3>

<ul>
<li>Removes jerkson support</li>
<li>Removes anti-xml support</li>
<li>Adds Jackson support</li>
<li>Adds common traits for pluggable json serialization, these traits allow library writers to write against a generic
json interface. The application developer can then mix in the json support he wants and retain all functionality.</li>
<li>Defers reading request parameters until the last responsible moment (aka lazify)</li>
<li>Contrib project has been removed, all the modules have been moved into the main scalatra project</li>
</ul>

<h3 id="core">Core</h3>

<ul>
<li>Adds typed param support, previously in contrib</li>
<li><code>ApiFormats</code> now also has a method responseFormat which looks at the content type of the response and falls back to the format of the request.</li>
<li>The default bootstrap file is renamed from <code>Scalatra</code> to <code>ScalatraBootstrap</code></li>
<li><code>FileUpload</code> can now be configured through init parameters</li>
<li>RouteMatchers don&rsquo;t use any by-name params anymore</li>
<li><code>RouteMatcher</code> now takes a <code>requestPath</code> as a param to the <code>apply</code> method</li>
<li>You are able to mount the same servlet more than once in the ScalatraBootstrap class</li>
<li>Added a new <code>relativeUrl</code> method which will compose a path for redirection and keep relative paths relative</li>
<li>Refactored the <code>url</code> method to allow for a more granular building of the path with regards to the context path and servlet path</li>
<li>Added a <code>fullUrl</code> method which will use the absolute path created by the <code>url</code> method to build a url with protocol, host, port and path + querystring</li>
<li>Added a <code>isHttps</code> method which also looks in the headers for a <code>X-Forwarded-Proto</code> header</li>
<li>Added a <code>needsHttps</code> method which looks in the init params for a key <code>org.scalatra.ForceHttps</code> for a boolean value (true/false), this is used by the <code>fullUrl</code> method to work out the protocol</li>
<li>Added a <code>org.scalatra.HostName</code> init parameter in which you can override the host name of this scalatra application, if unset the value from <code>request.getServerName</code> will be used</li>
<li>Added a <code>org.scalatra.Port</code> init parameter in which you can override the port of this scalatra application, if unset the value from <code>request.getServerPort</code> will be used</li>
<li>ApiFormats now also has a reverse mapping for the txt extension</li>
<li>Adds <code>GZipSupport</code>, contributed by @Marza</li>
<li>Folds <code>TypedParamSupport</code> into core making the <code>params.getAs[Int]</code> methods available everywhere</li>
</ul>

<h3 id="lift-json">lift-json</h3>

<ul>
<li>Removed in favour of json4s support</li>
</ul>

<h3 id="jackson">Jackson</h3>

<ul>
<li>Removed in favour of json4s support</li>
</ul>

<h3 id="json">JSON</h3>

<ul>
<li>Previous lift-json support is replaced with json4s support.</li>
<li>Jackson integration is also provided through json4s</li>
<li>Replaces ProductToJsonSupport trait with a <code>JValueResult</code> trait which will try to serialize any value to json or xml
when the accept headers or format parameter indicate the user wants json or xml.</li>
<li>Fix reading json from post without the right header</li>
<li>Include <code>JValueResult</code> by default in the <code>NativeJsonSupport</code> and <code>JacksonJsonSupport</code></li>
<li>Make <code>JValueResult</code> only serialize <code>Traversable</code> and <code>Product</code> classes</li>
</ul>

<h3 id="scalate">Scalate</h3>

<ul>
<li>Adds ScalateRenderSupport trait taken from contrib</li>
</ul>

<h3 id="databinding">Databinding</h3>

<ul>
<li><p>Adds a databinding module for commands.
The commands can have validations attached and will read data from headers, params and the request body (like json/xml)
This is implemented using an infrastructure of type classes and uses scalaz validations to capture the validation information.</p>

<pre><code>class RegisterForm extends JacksonCommand { // you have to pick the json library of choice

  val login: Field[String] = asString(&quot;login&quot;).required.notBlank.minLength(6).validForFormat(&quot;\\w+&quot;.r)

  val name: Field[String] = asString(&quot;name&quot;)

  val email: Field[String] = asString(&quot;email&quot;).required.notBlank.validEmail

  val homepage: Field[String] = asString(&quot;homepage&quot;).validUrl

  val passwordConfirmation: FieldBinding = asString(&quot;passwordConfirmation&quot;).required.notBlank

  val password: FieldBinding = asString(&quot;password&quot;).required.notBlank.validConfirmation(&quot;passwordConfirmation&quot;, passwordConfirmation.value)

}
</code></pre></li>

<li><p>Renames databinding to commands. This resolves the confusion created by the name databinding.</p></li>
</ul>

<h3 id="akka">Akka</h3>

<ul>
<li>Updates akka to 2.0.4</li>
</ul>

<h3 id="atmosphere">Atmosphere</h3>

<ul>
<li><p>Adds an atmosphere integration
This module adds support for websockets, long-polling, server-side events, &hellip;.</p>

<pre><code>class MyAtmoServlet {
  def receive = {
    case Connected =&gt;
    case Disconnected(disconnector, Some(error)) =&gt;
    case Error(Some(error)) =&gt;
    case TextMessage(text) =&gt; send(&quot;ECHO: &quot; + text)
    case JsonMessage(json) =&gt; broadcast(json)
  }
}
</code></pre></li>

<li><p>Updates atmosphere to 1.0.6</p></li>

<li><p>Fixes atmosphere long-polling etc. A big thanks to @jfarcand</p></li>

<li><p>Fix <code>ScalatraBroadcasterFactory#lookup</code> to return null when nothing is found instead of throwing an exception</p></li>
</ul>

<h3 id="swagger">Swagger</h3>

<ul>
<li><p>Added serialization for AllowableValues in <code>Swagger.scala</code>.  These are passed as strings in the AllowableValues object:</p>

<pre><code>// as List
allowableValues = AllowableValues(1, 2, 3)

// as range
allowableValues = AllowableValues(0 to 1000)
</code></pre></li>

<li><p>Updated to support the <a href="https://github.com/wordnik/swagger-core/wiki/API-Declaration">swagger-1.1 spec</a></p></li>

<li><p>Allows for using either jackson or native json to generate the service description json</p></li>

<li><p>Auto-registers servlets and filters that extend the SwaggerSupport trait in the swagger manager.</p></li>

<li><p>Includes the swagger-core and swagger-annotations jars as transitive dependencies (batteries included)</p></li>

<li><p>The models property in the <code>SwaggerSupport</code> can now be Set as <code>Map(classOf[Pet])</code></p></li>

<li><p>responseClass can now be set with a type parameter <code>responseClass[Pet]</code></p></li>

<li><p>Data types in <code>Parameter</code> and <code>ModelField</code> definitions can now be defined as <code>DataType[List[String]]</code></p></li>

<li><p>Make swagger optionally support authentication</p></li>

<li><p>Optionally integrate commands into swagger support to generate model and parameter definitions.</p></li>
</ul>

<h3 id="swagger-ext">Swagger-Ext</h3>

<ul>
<li>Adds support for authorization through scentry to Swagger.  Shows only actions a user is allowed to see.
<a href="https://github.com/scalatra/scalatra/blob/develop/swagger-ext/src/test/scala/org/scalatra/swagger/SwaggerAuthSpec.scala">Example</a></li>

<li><p>Adds support for using commands with Swagger. This creates a model definition for the body parameters and parameter
definitions for the query, path and header params as well as a parameter for the body model</p>

<pre><code>get(&quot;/id&quot;, endpoint(&quot;id&quot;), nickname(&quot;getById&quot;), parameters[MyCommand])

class MyCommand extends JsonCommand {
  protected implicit val jsonFormats: Formats = DefaultFormats

  val name: Field[String] = asString(&quot;name&quot;).notBlank

  val age: Field[Int] = &quot;age&quot;

  val token: Field[String] = (
      asString(&quot;API-TOKEN&quot;).notBlank
        sourcedFrom ValueSource.Header
        description &quot;The API token for this request&quot;
        notes &quot;Invalid data kills cute innocent kittens&quot;
        allowableValues &quot;123&quot;)

  val skip: Field[Int] = asInt(&quot;skip&quot;).sourcedFrom(ValueSource.Query).description(&quot;The offset for this collection index&quot;)

  val limit: Field[Int] = asType[Int](&quot;limit&quot;).sourcedFrom(ValueSource.Query).withDefaultValue(20).description(&quot;the max number of items to return&quot;)
}
</code></pre></li>
</ul>

<h3 id="testing">Testing</h3>

<ul>
<li>Added a method <code>ensureSessionIsSerializable</code> method which will try to serialize every session value.</li>
</ul>

<h3 id="specs">Specs</h3>

<ul>
<li>Deprecate scalatra-specs in anticipation of Scala 2.10 support.</li>
</ul>

<h3 id="auth">Auth</h3>

<ul>
<li>Scentry is now lazily initialized so the order of the traits doesn&rsquo;t matter anymore</li>
</ul>

<h3 id="slf4j">SLF4J</h3>

<ul>
<li>Rename <code>LogbackSupport</code> to <code>ScalatraSlf4jRequestLogging</code></li>
<li>Updates slf4j-api to 1.7.2</li>
</ul>
		</section>
	  </article>
	</main>
  </div> 
  <div class="col-sm-3 doc-sidebar">
	  <div class="sidebar-module">
  		<div class="sidebar-toc">
        <h4 class="sidebar-heading">Past news items</h4>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2017/06/01/2017-06-01-scalatra-2-5-1-released.html">Scalatra 2.5.1 is out</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2017-06-01">June 01, 2017</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce the release of version 2.5.1 of the framework. This is a maintenance release which fixes some Swagger2 support bugs in 2.5.0.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2016/11/21/2016-11-21-scalatra-2-5-released.html">Scalatra 2.5.0 is out</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2016-11-21">November 21, 2016</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce the release of version 2.5.0 of the framework. Noteworthy upgrades include Scala 2.12 and Swagger 2 support.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2015/12/20/2015-12-20-scalatra-2-4-released.html">Scalatra 2.4.0 is out</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2015-12-20">December 20, 2015</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce the release of Scalatra 2.4.0 with many improvements and bugfixes as listed below.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2015/10/07/2015-10-07-scalatra-2-4-comming-soon.html">Scalatra 2.4.0 will be out soon</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2015-10-07">October 07, 2015</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce the release of Scalatra 2.4.0.RC3.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2014/06/11/2014-06-11-scalatra-2-3-released.html">Scalatra 2.3.0 released</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2014-06-11">June 11, 2014</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce the release of Scalatra 2.3.0.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2013/12/07/2013-12-07-scalatra-2-2-2-and-2-3-0m1released.html">Scalatra 2.2.2 and 2.3.0M1 released</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2013-12-07">December 07, 2013</time></span>
          </h5>
          <p>The Scalatra team is pleased to announce two new releases.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2013/09/20/2013-09-20-scalatra-in-action-routing-chapter-released.html">Scalatra in Action: Routing chapter available</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2013-09-20">September 20, 2013</time></span>
          </h5>
          <p>Our book <a href="http://www.manning.com/carrero2/">Scalatra in Action</a>, available from
Manning Publications, has been steadily ticking along over the summer.<br />
A new chapter, on RESTful application development using Scalatra&rsquo;s routing
DSL, is now available.</p>

<p></p>
          
          <h5>
            <a href="https://scalatra.github.io/scalatra-docbuild/2013/09/16/2013-09-16-gitbucket-release.html">GitBucket, a large FOSS codebase in Scalatra</a><br>
            <span class="doc-entry-meta in-list"><time datetime="2013-09-16">September 16, 2013</time></span>
          </h5>
          <p>Congratulations are in order to the
<a href="https://github.com/takezoe/gitbucket/graphs/contributors">authors</a> of
<a href="https://github.com/takezoe/gitbucket">GitBucket</a>, a free software clone of
<a href="https://github.com">GitHub</a>.</p>

<p></p>
          
  		</div>
  	</div>
  </div>
</div> 




</div> 

<footer class="doc-footer">
	
	<p>Scalatra Team</p>
	<p>Powered by <strong><a href="https://github.com/key-amb/hugo-theme-bootie-docs">Bootie Docs</a></strong> - theme for <a href="http://gohugo.io/">Hugo</a> by <a href="https://github.com/key-amb/">key-amb</a>.</p>
</footer>



<script src="https://scalatra.github.io/scalatra-docbuild//js/jquery.min.js"></script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/bootstrap.min.js"></script>

<script src="https://scalatra.github.io/scalatra-docbuild//js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/ie10-viewport-bug-workaround.js"></script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/bootie-docs.js"></script>

</body>
</html>

