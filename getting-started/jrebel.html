<!DOCTYPE html>

<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="alternate" href="https://scalatra.github.io/scalatra-docbuild/index.xml" type="application/rss+xml" title="Scalatra">
		<link rel="icon" href="https://scalatra.github.io/scalatra-docbuild//favicon.ico">
		<title>JRebel integration - Scalatra</title>
		
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/highlight/github.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootstrap.min.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/theme.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/bootie-docs.css">
		<link rel="stylesheet" href="https://scalatra.github.io/scalatra-docbuild//css/site.css">
	</head>

<body role="document">

	
	<nav class="navbar navbar-inverse navbar-fixed-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="https://scalatra.github.io/scalatra-docbuild//"><img src="https://scalatra.github.io/scalatra-docbuild//images/logo-s.png" alt="logo"></a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
                    
			
			
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/getting-started/">Getting started</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/news.html">News</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/guides/">Documentation</a></li>
				
					<li ><a href="https://scalatra.github.io/scalatra-docbuild/community/">Community</a></li>
				
			
                
				</ul>
				
			</div>
		</div>
	</nav>

<div class="container">


<div class="row">
	<div class="col-sm-12 doc-main">
		<main role="main">
			<article>
				<a id="title"></a>
				<h1 class="doc-entry-title">JRebel integration</h1>
                
				<section>
					

<p><a href="http://zeroturnaround.com/software/jrebel/">JRebel</a> is a JVM plugin that makes developing web apps much faster.
JRebel is generally able to eliminate the need for the following slow &ldquo;app restart&rdquo; in sbt following a code change:</p>

<pre><code>&gt; ~jetty:start
</code></pre>

<p>While JRebel is not open source, it does reload your code faster than stopping and restarting Jetty each time.</p>

<p>It&rsquo;s only used during development, and doesn&rsquo;t change your deployed app in any way.</p>

<p>JRebel used to be free for Scala developers, but that changed recently, and now there&rsquo;s a cost associated with usage for Scala. There are trial plans and free non-commercial licenses available if you just want to try it out.</p>

<hr />

<h2 id="1-get-a-jrebel-license">1. Get a JRebel license</h2>

<p>Sign up for a <a href="https://my.jrebel.com/">usage plan</a>. You will need to create an account.</p>

<h2 id="2-download-jrebel">2. Download JRebel</h2>

<p>Download the most recent <a href="http://zeroturnaround.com/software/jrebel/download/prev-releases/">&ldquo;nosetup&rdquo; JRebel zip</a>.
Next, unzip the downloaded file.</p>

<h2 id="3-activate">3. Activate</h2>

<p>Follow the <a href="http://zeroturnaround.com/software/jrebel/download/prev-releases/">instructions on the JRebel website</a> to activate your downloaded JRebel.</p>

<p>You can use the default settings for all the configurations.</p>

<p>You don&rsquo;t need to integrate with your IDE, since we&rsquo;re using sbt to do the servlet deployment.</p>

<h2 id="4-tell-scalatra-where-jrebel-is">4. Tell Scalatra where JRebel is</h2>

<p>Fortunately, the Scalatra giter8 project is already set up to use JRebel.
You only need to tell Scalatra where to find the jrebel jar.</p>

<p>To do so, edit your shell resource file (usually <code>~/.bash_profile</code> on Mac, and <code>~/.bashrc</code> on Linux), and add the following line:</p>

<pre><code class="language-bash">export SCALATRA_JREBEL=/path/to/jrebel/jrebel.jar
</code></pre>

<p>For example, if you unzipped your JRebel download in your home directory, you whould use:</p>

<pre><code class="language-bash">export SCALATRA_JREBEL=~/jrebel/jrebel.jar
</code></pre>

<p>Now reload your shell:</p>

<pre><code>$ source ~/.bash_profile # on Mac
$ source ~/.bashrc       # on Linux
</code></pre>

<h2 id="5-see-it-in-action">5. See it in action!</h2>

<p>Now you&rsquo;re ready to use JRebel with the Scalatra giter8 plugin.
When you run sbt as normal, you will see a long message from JRebel, indicating it has loaded.
Here&rsquo;s an abbreviated version of what you will see:</p>

<pre><code>$ ./sbt
Detected sbt version 0.12.1
Starting sbt: invoke with -help for other options
[2012-12-08 18:14:30]
[2012-12-08 18:14:30] #############################################################
[2012-12-08 18:14:30]
[2012-12-08 18:14:30]  JRebel 5.1.1 (201211271929)
[2012-12-08 18:14:30]  (c) Copyright ZeroTurnaround OU, Estonia, Tartu.
[2012-12-08 18:14:30]
[2012-12-08 18:14:30]  This product is licensed to John Doe
[2012-12-08 18:14:30]  for use with Scala classes only
[2012-12-08 18:14:30]
[2012-12-08 18:14:30]  License acquired through myJRebel server.
[2012-12-08 18:14:30]
[2012-12-08 18:14:30]  You are subscribed for the plan &quot;JRebel Scala Plan&quot;,
[2012-12-08 18:14:30]  subscription ends on 2013-10-06,
[2012-12-08 18:14:30]  next license check with the server is required by 2013-01-07.
[2012-12-08 18:14:30]
[2012-12-08 18:14:30] #############################################################
[2012-12-08 18:14:30]
&gt;
</code></pre>

<p>You will start the servlet container slightly differently now that you&rsquo;re using sbt.</p>

<pre><code>&gt; jetty:start
&gt; ~ copy-resources
</code></pre>

<p>Don&rsquo;t worry if JRebel complains about there being no <code>test-classes</code> directory.
That directory will only exist when you&rsquo;re running tests.</p>

<p>Finally, change your code.
For example, if you&rsquo;re using the default giter8 project, you can change the web app&rsquo;s welcome message to this:</p>

<pre><code class="language-scala">get(&quot;/&quot;) {
  &lt;html&gt;
    &lt;body&gt;
      &lt;h1&gt;Is JRebel working?&lt;/h1&gt;
    &lt;/body&gt;
  &lt;/html&gt;
}
</code></pre>

<p>If JRebel is doing is correctly installed you will see a notice from JRebel that it has reloaded classes for you:</p>

<pre><code>1. Waiting for source changes... (press enter to interrupt)
[2012-12-08 18:29:53] JRebel: Reloading class 'com.example.app.MyScalatraServlet'.
</code></pre>

<h2 id="6-limitations">6. Limitations</h2>

<p>JRebel is nearly always able to eliminate the need to explicitly reload your container after a code change. However, if you change any of your routes patterns, there is nothing JRebel can do, you will have to restart the Jetty with <code>jetty:start</code>.</p>

				</section>
			</article>
		</main>
	</div> 
    
</div> 




</div> 

<footer class="doc-footer">
	
	<p>Scalatra Team</p>
	<p>Powered by <strong><a href="https://github.com/key-amb/hugo-theme-bootie-docs">Bootie Docs</a></strong> - theme for <a href="http://gohugo.io/">Hugo</a> by <a href="https://github.com/key-amb/">key-amb</a>.</p>
</footer>



<script src="https://scalatra.github.io/scalatra-docbuild//js/jquery.min.js"></script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/bootstrap.min.js"></script>

<script src="https://scalatra.github.io/scalatra-docbuild//js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/ie10-viewport-bug-workaround.js"></script>
<script src="https://scalatra.github.io/scalatra-docbuild//js/bootie-docs.js"></script>

</body>
</html>

